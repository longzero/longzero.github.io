<!--
  Read this
  https://bobbyhadz.com/blog/load-html-page-in-a-div-using-javascript#how-to-load-an-html-page-in-a-div-using-fetch-in-javascript
 -->

<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Marked in the browser</title>
</head>
<body>
  <div id="content"></div>
  <!-- https://github.com/markedjs/marked -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    // const markdownPath = '../eleventy-base-blog/pages/2.4.md'
    const markdownPath = '../eleventy-base-blog/pages/map.html'

    // START https://stackoverflow.com/a/34579496/2716287
    function loadFile(file, callback) {
      var rawFile = new XMLHttpRequest();
      rawFile.overrideMimeType("application/json");
      rawFile.open("GET", file, true);
      rawFile.onreadystatechange = function() {
        if (rawFile.readyState === 4 && rawFile.status == "200") {
          callback(rawFile.responseText);
        }
      }
      rawFile.send(null);
    }

    loadFile(markdownPath, function(text){
      // console.log(text)
      document.getElementById('content').innerHTML = text //marked.parse(text)
    })
    // END https://stackoverflow.com/a/34579496/2716287

    // document.getElementById('content').innerHTML = marked.parse('# Marked in the browser\n\nRendered by **marked**.');
  </script>
</body>
</html>